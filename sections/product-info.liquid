
{% assign number_slide_images = section.settings.number_slide_images %}

{%- assign slider_tags = section.settings.slider_tags | split: ',' -%}

{%- capture block_id_list -%}
  {%- for block in section.blocks -%}
    {%- if block.type == 'collapsible_tab_a_s' -%}
      {{ block.id }}{% unless forloop.last %},{% endunless %}
    {%- endif -%}
  {%- endfor -%}
{%- endcapture -%}

{%- assign block_ids = block_id_list | strip_newlines | replace: ' ', '' | split: ',' -%}


<div class="section sp-sec">
    <div class="container">
        <div class="row justify-content-between">
            <div class="col-lg-7">
                <div class="swiper-entry pd-slider">
                    <div class="swiper-container" data-options='{ 
                        "slidesPerView": 1.05,
                        "spaceBetween": 8,
                        "breakpoints":{
                            "576":{"spaceBetween": 8, "slidesPerView": 1.1},
                            "992":{"spaceBetween": 0, "slidesPerView": 1},
                            "1200":{"spaceBetween": 0, "slidesPerView": 1}
                        }}'>
                        <div class="swiper-wrapper">
                            {% for media in product.media offset: 1 limit: number_slide_images %}
                            {%- assign current_index = forloop.index0 -%}
                            {%- assign current_desc = slider_tags[current_index] | strip -%}
                            <div class="swiper-slide">
                                <div class="pd-main-img">
                                    {% if current_desc != blank %}  
                                    <div class="tags">
                                        <span>{{ current_desc }}</span>
                                    </div>
                                    {% endif %}
                                    <picture>
                                        <source srcset="{{ media | img_url: 'master' }}" type="{{ media.format }}">
                                        <img width="380" height="240" src="#" alt="" loading="lazy">
                                    </picture>
                                </div>
                            </div>
                            {% endfor %}
                        </div>
                    </div>
                    <div class="swiper-pagination swiper-pagination-relative d-none"></div>
                </div>

                {%- if block_ids.size > 0 -%}
                  <div class="pd-delivery">
                    {%- for id in block_ids -%}
                      {%- assign current_block = section.blocks | where: "id", id | first -%}
                      
                      <div class="delivery-item {{ id }}">
                        {%- if current_block.settings.icon != blank -%}
                          <img width="20" height="20" src="{{ current_block.settings.icon | img_url: '40x40' }}" alt="">
                        {%- endif -%}
                        <div class="text">{{ current_block.settings.content }}</div>
                      </div>
                    {%- endfor -%}
                  </div>
                {%- endif -%}
                {% if product.media != blank %}
                <div class="row product-row hide-lg">
                    {%- assign start_index = number_slide_images | plus: 1 -%}
                    {%- for media in product.media offset: start_index -%}
                    <div class="col-md-6">
                        <div class="simple-img size5">
                            {%- if media.media_type == 'image' -%}
                            <picture>
                                <source srcset="{{ media | img_url: 'master' }}" type="{{ media.format }}">
                                <img width="380" height="240" src="#" alt="" loading="lazy">
                            </picture>
                            {% endif %}
                        </div>
                    </div>
                  {% endfor %}
                </div>
                {%  endif %}
            </div>
            <div class="col-lg-5 col-xl-4">
                <div class="pd-detail-info">
                    <div class="title-shortcode mb-64">
                        {%- for block in section.blocks -%}
                          {%- case block.type -%}
                            {%- when 'rating' -%}
                            {% comment %} <div class="pd-rating">
                                <div class="stars">
                                    <img width="16" height="16" src="img/icons/star-icon.svg" alt="" loading="lazy">
                                    <img width="16" height="16" src="img/icons/star-icon.svg" alt="" loading="lazy">
                                    <img width="16" height="16" src="img/icons/star-icon.svg" alt="" loading="lazy">
                                    <img width="16" height="16" src="img/icons/star-icon.svg" alt="" loading="lazy">
                                    <img width="16" height="16" src="img/icons/star-icon.svg" alt="" loading="lazy">
                                </div>
                                <div class="text text-sm">(177)</div>
                            </div> {% endcomment %}
                            <div class="ruk_rating_snippet" data-sku="{{ product.handle }};{{ product.variants | map: 'sku' | join: ';' }};{{ product.variants | map: 'id' | join: ';' }}"></div>
                            {%- when 'title' -%}
                            <h1 class="h2 title">{{ product.title | escape }}</h1>
                            {%- when 'price' -%}
                            <div class="text text-md">
                              {%- render 'price',
                                product: product,
                                use_variant: true,
                                show_badges: true,
                                price_class: 'price--large'
                              -%}
                            </div>
                            {%-  when 'description' -%}
                            <div class="text">{{ product.description }}</div>
                            <a href="#" class="btn btn-third">
                                <b>More details</b>
                            </a>
                          {% endcase %}
                        {% endfor %}
                    </div>
                    <div class="quantity-wrapp">
                        <div class="motto">Select your pillow quantity:</div>
                        <div class="quantity">
                            <div class="quantity-item active">
                                <div class="text"><b>Single pack</b></div>
                                <div class="motto">Included</div>
                            </div>
                            <div class="quantity-item">
                                <div class="text"><b>Double pack</b></div>
                                <div class="motto">+ €52.30</div>
                            </div>
                        </div>
                    </div>
                    <div class="pairs-wrapp">
                        <div class="motto">Pairs best with:</div>
                        <div class="pairs">
                            <div class="pairs-item">
                                <img width="72" height="40" src="img/pairs-img.webp" alt="" loading="lazy">
                                <div class="content">
                                    <div class="text text-sm"><b>Spare Cover</b></div>
                                    <div class="text text-sm">For uninteruptted comfort while washing</div>
                                </div>
                                <div class="btn btn-third">
                                    <b>+ €19</b>
                                </div>
                            </div>
                            <div class="pairs-item">
                                <img width="72" height="40" src="img/pairs-img.webp" alt="" loading="lazy">
                                <div class="content">
                                    <div class="text text-sm"><b>Travel Case</b></div>
                                    <div class="text text-sm">Roll up and pack your pillow compactly</div>
                                </div>
                                <div class="btn btn-third">
                                    <b>+ €19</b>
                                </div>
                            </div>
                        </div>
                    </div>
                    {% assign current_variant = product.selected_or_first_available_variant %}
                    {% if current_variant.available %}
                    <div class="status" style="--clr-status: 61 161 92;">
                        <i></i>
                        <div class="text text-sm"><span>{{- 'products.product.inventory_in_stock' | t -}}</span>, {{- 'products.product.ship' | t -}}</div>
                    </div>
                    <div class="btn btn-block add-cart">
                        <b>Add to cart</b>
                    </div>
                    {% else %}
                    <div class="status" style="--clr-status: 185, 28, 28;">
                        <i></i>
                        <div class="text text-sm"><span>{{- 'products.product.inventory_in_stock' | t -}}</span></div>
                    </div>
                    {%  endif %}
                    <div class="request-appoinment">
                        <img width="64" height="64" src="img/request-appoinment-img.webp" alt="" loading="lazy">
                        <div class="content">
                            <div class="text text-sm"><b>Discover our modular sleep system</b></div>
                            <div class="text text-sm">See how our modular system transforms your sleep quality. Our specialist bring demos to your home - experience the complete advantage firsthand!</div>
                            <a href="#" class="btn-link style4">
                                <b>Request Appoinment</b>
                            </a>
                        </div>
                    </div>
                    <div class="accordion-wrapp">
                        <div class="motto">Product specifiactions</div>
                        <div class="accordion type2 style2" itemscope itemtype="https://schema.org/FAQPage">
                            <div class="accordion-item" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
                                <div class="accordion-title" itemprop="name">
                                    Measurements & Dimensions
                                    <i></i>
                                </div>
                                <div class="accordion-inner" itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer">
                                    <div class="text" itemprop="text">
                                        <p>60x40 cm, adjustable height: 9 or 12 cm</p>
                                    </div>
                                </div>
                            </div>
                            <div class="accordion-item" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
                                <div class="accordion-title" itemprop="name">
                                    Materials & Care
                                    <i></i>
                                </div>
                                <div class="accordion-inner" itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer">
                                    <div class="text" itemprop="text">
                                        <p>60x40 cm, adjustable height: 9 or 12 cm</p>
                                    </div>
                                </div>
                            </div>
                            <div class="accordion-item" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
                                <div class="accordion-title" itemprop="name">
                                    Warranty, Shipping & Returns
                                    <i></i>
                                </div>
                                <div class="accordion-inner" itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer">
                                    <div class="text" itemprop="text">
                                        <p>60x40 cm, adjustable height: 9 or 12 cm</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="spacer-xl"></div>
</div>

{% schema %}
{
  "name": "Single product info",
  "tag": "section",
  "class": "section",
  "blocks": [
    {
      "type": "@app"
    },
    {
      "type": "rating",
      "name": "t:sections.main-product.blocks.rating.name",
      "limit": 1,
      "settings": [
        {
          "type": "paragraph",
          "content": "t:sections.main-product.blocks.rating.settings.paragraph.content"
        }
      ]
    },
    {
      "type": "title",
      "name": "t:sections.main-product.blocks.title.name",
      "limit": 1
    },
    {
      "type": "price",
      "name": "t:sections.main-product.blocks.price.name",
      "limit": 1
    },
    {
      "type": "description",
      "name": "t:sections.main-product.blocks.description.name",
      "limit": 1
    },
    {
      "type": "variant_picker",
      "name": "t:sections.main-product.blocks.variant_picker.name",
      "limit": 1,
      "settings": [
        {
          "type": "select",
          "id": "picker_type",
          "options": [
            {
              "value": "dropdown",
              "label": "t:sections.main-product.blocks.variant_picker.settings.picker_type.options__1.label"
            },
            {
              "value": "button",
              "label": "t:sections.main-product.blocks.variant_picker.settings.picker_type.options__2.label"
            }
          ],
          "default": "button",
          "label": "t:sections.main-product.blocks.variant_picker.settings.picker_type.label"
        },
        {
          "id": "swatch_shape",
          "label": "t:sections.main-product.blocks.variant_picker.settings.swatch_shape.label",
          "type": "select",
          "info": "t:sections.main-product.blocks.variant_picker.settings.swatch_shape.info",
          "options": [
            {
              "value": "circle",
              "label": "t:sections.main-product.blocks.variant_picker.settings.swatch_shape.options__1.label"
            },
            {
              "value": "square",
              "label": "t:sections.main-product.blocks.variant_picker.settings.swatch_shape.options__2.label"
            },
            {
              "value": "none",
              "label": "t:sections.main-product.blocks.variant_picker.settings.swatch_shape.options__3.label"
            }
          ],
          "default": "circle"
        }
      ]
    },
    {
      "type": "buy_buttons",
      "name": "t:sections.main-product.blocks.buy_buttons.name",
      "limit": 1,
      "settings": [
        {
          "type": "checkbox",
          "id": "show_dynamic_checkout",
          "default": true,
          "label": "t:sections.main-product.blocks.buy_buttons.settings.show_dynamic_checkout.label",
          "info": "t:sections.main-product.blocks.buy_buttons.settings.show_dynamic_checkout.info"
        },
        {
          "type": "checkbox",
          "id": "show_gift_card_recipient",
          "default": true,
          "label": "t:sections.main-product.blocks.buy_buttons.settings.show_gift_card_recipient.label",
          "info": "t:sections.main-product.blocks.buy_buttons.settings.show_gift_card_recipient.info"
        }
      ]
    },
    {
      "type": "collapsible_tab",
      "name": "t:sections.main-product.blocks.collapsible_tab.name",
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "default": "t:sections.main-product.blocks.collapsible_tab.settings.heading.default",
          "label": "t:sections.main-product.blocks.collapsible_tab.settings.heading.label"
        },
        {
          "type": "richtext",
          "id": "content",
          "label": "t:sections.main-product.blocks.collapsible_tab.settings.content.label"
        },
      ]
    },
    {
      "type": "info",
      "name": "Discover block",
      "settings": [
        {
          "type": "image_picker",
          "id": "right_image",
          "label": "Right image"
        },
        {
          "type": "text",
          "id": "heading",
          "default": "t:sections.main-product.blocks.collapsible_tab.settings.heading.default",
          "label": "t:sections.main-product.blocks.collapsible_tab.settings.heading.label"
        },
        {
          "type": "richtext",
          "id": "content",
          "label": "t:sections.main-product.blocks.collapsible_tab.settings.content.label"
        },
      ]
    },
    {
      "type": "collapsible_tab_a_s",
      "name": "Info after images slider",
      "settings": [
        {
          "type": "image_picker",
          "id": "icon",
          "label": "Icon"
        },
        {
          "type": "text",
          "id": "content",
          "label": "Description"
        },
      ]
    },
  ],
  "settings": [
    {
      "type": "number",
      "id": "number_slide_images",
      "default": 2,
      "label": "Number of images in slider",
      "info": "If there is more images in gallery they will be shown separatly"
    },
    {
      "type": "text",
      "id": "slider_tags",
      "label": "Slider gallery tags",
      "info": "Add comma separated list of tags, each will be show on single image in gallery"
    },
    {
      "type": "header",
      "content": "t:sections.main-product.settings.header.content"
    },
    {
      "type": "select",
      "id": "media_size",
      "options": [
        {
          "value": "small",
          "label": "t:sections.main-product.settings.media_size.options__1.label"
        },
        {
          "value": "medium",
          "label": "t:sections.main-product.settings.media_size.options__2.label"
        },
        {
          "value": "large",
          "label": "t:sections.main-product.settings.media_size.options__3.label"
        }
      ],
      "default": "large",
      "label": "t:sections.main-product.settings.media_size.label"
    },
    {
      "type": "checkbox",
      "id": "constrain_to_viewport",
      "default": true,
      "label": "t:sections.main-product.settings.constrain_to_viewport.label"
    },
    {
      "type": "select",
      "id": "media_fit",
      "options": [
        {
          "value": "contain",
          "label": "t:sections.main-product.settings.media_fit.options__1.label"
        },
        {
          "value": "cover",
          "label": "t:sections.main-product.settings.media_fit.options__2.label"
        }
      ],
      "default": "contain",
      "label": "t:sections.main-product.settings.media_fit.label"
    },
    {
      "type": "select",
      "id": "gallery_layout",
      "options": [
        {
          "value": "stacked",
          "label": "t:sections.main-product.settings.gallery_layout.options__1.label"
        },
        {
          "value": "columns",
          "label": "t:sections.main-product.settings.gallery_layout.options__2.label"
        },
        {
          "value": "thumbnail",
          "label": "t:sections.main-product.settings.gallery_layout.options__3.label"
        },
        {
          "value": "thumbnail_slider",
          "label": "t:sections.main-product.settings.gallery_layout.options__4.label"
        }
      ],
      "default": "stacked",
      "label": "t:sections.main-product.settings.gallery_layout.label"
    },
    {
      "type": "select",
      "id": "mobile_thumbnails",
      "options": [
        {
          "value": "columns",
          "label": "t:sections.main-product.settings.mobile_thumbnails.options__1.label"
        },
        {
          "value": "show",
          "label": "t:sections.main-product.settings.mobile_thumbnails.options__2.label"
        },
        {
          "value": "hide",
          "label": "t:sections.main-product.settings.mobile_thumbnails.options__3.label"
        }
      ],
      "default": "hide",
      "label": "t:sections.main-product.settings.mobile_thumbnails.label"
    },
    {
      "type": "select",
      "id": "media_position",
      "options": [
        {
          "value": "left",
          "label": "t:sections.main-product.settings.media_position.options__1.label"
        },
        {
          "value": "right",
          "label": "t:sections.main-product.settings.media_position.options__2.label"
        }
      ],
      "default": "left",
      "label": "t:sections.main-product.settings.media_position.label"
    },
    {
      "type": "select",
      "id": "image_zoom",
      "options": [
        {
          "value": "lightbox",
          "label": "t:sections.main-product.settings.image_zoom.options__1.label"
        },
        {
          "value": "hover",
          "label": "t:sections.main-product.settings.image_zoom.options__2.label"
        },
        {
          "value": "none",
          "label": "t:sections.main-product.settings.image_zoom.options__3.label"
        }
      ],
      "default": "lightbox",
      "label": "t:sections.main-product.settings.image_zoom.label"
    },
    {
      "type": "checkbox",
      "id": "hide_variants",
      "default": false,
      "label": "t:sections.main-product.settings.hide_variants.label"
    },
    {
      "type": "checkbox",
      "id": "enable_video_looping",
      "default": false,
      "label": "t:sections.main-product.settings.enable_video_looping.label"
    },
    {
      "type": "header",
      "content": "t:sections.all.padding.section_padding_heading"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "t:sections.all.padding.padding_top",
      "default": 36
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "t:sections.all.padding.padding_bottom",
      "default": 36
    }
  ],
  "presets":[
    {
      "name": "Single product info",
      "blocks": []
    }
  ],
}
{% endschema %}